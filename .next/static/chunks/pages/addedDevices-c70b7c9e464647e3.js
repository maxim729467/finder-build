(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{640:function(e,t,n){"use strict";var r=n(1742),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,s,c,a,l,u,p,d=!1;t||(t={}),s=t.debug||!1;try{if(a=r(),l=document.createRange(),u=document.getSelection(),(p=document.createElement("span")).textContent=e,p.ariaHidden="true",p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",function(n){if(n.stopPropagation(),t.format){if(n.preventDefault(),void 0===n.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=o[t.format]||o.default;window.clipboardData.setData(r,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e)}t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(p),l.selectNodeContents(p),u.addRange(l),!document.execCommand("copy"))throw Error("copy command was unsuccessful");d=!0}catch(h){s&&console.error("unable to copy using execCommand: ",h),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(f){s&&console.error("unable to copy using clipboardData: ",f),s&&console.error("falling back to prompt"),n="message"in t?t.message:"Copy to clipboard: #{key}, Enter",i=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C",c=n.replace(/#{\s*key\s*}/g,i),window.prompt(c,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),p&&document.body.removeChild(p),a()}return d}},8824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=n(7294),o=n(9521),i=o.ZP.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-13a81w7-0"})(["padding:25px;display:flex;align-items:center;justify-content:center;flex-direction:column;"]),s=o.ZP.div.withConfig({displayName:"styles__Grid",componentId:"sc-13a81w7-1"})(["display:grid;width:100%;grid-template-columns:30px 150px 130px minmax(100px,1fr) 40px minmax(100px,1fr) repeat(2,40px);gap:5px;grid-auto-rows:minmax(10px,auto);"]),c=o.ZP.div.withConfig({displayName:"styles__ColumnTitle",componentId:"sc-13a81w7-2"})(['font-family:"Montserrat";font-weight:300;color:rgb(191,205,217);display:flex;align-items:center;justify-content:center;margin:0px;height:25px;text-align:center;box-sizing:border-box;font-size:15px;user-select:none;']),a=o.ZP.div.withConfig({displayName:"styles__Cell",componentId:"sc-13a81w7-3"})(['padding:0px 20px;background-color:rgb(34,55,73);width:100%;display:flex;align-items:center;justify-content:center;overflow-x:scroll;white-space:nowrap;height:40px;font-family:"Montserrat";color:rgb(191,205,217);font-weight:400;margin:0px;font-size:15px;user-select:none;&:nth-child(8n + 1),&:nth-child(8n + 5),&:nth-child(8n + 7),&:nth-child(8n + 8){background-color:transparent;padding:0;}&:nth-child(8n + 6){user-select:initial;}&:nth-child(8n + 4){user-select:initial;margin:0;padding:0;align-items:flex-start;justify-content:flex-start;}&:nth-child(8n + 2),&:nth-child(8n + 6){justify-content:flex-start;}-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}']),l=o.ZP.p.withConfig({displayName:"styles__Text",componentId:"sc-13a81w7-4"})(['font-family:"Montserrat";color:rgb(191,205,217);font-weight:300;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin:0px;text-align:center;font-size:15px;user-select:none;']),u=o.ZP.button.withConfig({displayName:"styles__Button",componentId:"sc-13a81w7-5"})(["display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;border:none;outline:none;background-color:transparent;width:100%;height:100%;filter:brightness(0.9) invert(85%);"]),p=o.ZP.div.withConfig({displayName:"styles__LoaderWrapper",componentId:"sc-13a81w7-6"})(["position:absolute;top:42px;left:0;width:100%;height:calc(100% - 42px);background:rgb(255,255,255,0.2);z-index:0;display:flex;align-items:center;justify-content:center;"]),d=o.ZP.div.withConfig({displayName:"styles__InputWrapper",componentId:"sc-13a81w7-7"})(["width:100%;"]),f=o.ZP.div.withConfig({displayName:"styles__DropdownWrapper",componentId:"sc-13a81w7-8"})(["display:flex;align-items:center;display:flex;flex-direction:column;align-items:flex-start;"]),h=o.ZP.div.withConfig({displayName:"styles__OptionsWrapper",componentId:"sc-13a81w7-9"})(["display:flex;flex-direction:column;border-radius:5px;background-color:rgb(23,42,59);box-shadow:rgb(16 27 38) 1px 2px 5px;position:absolute;z-index:200;"]),g=o.ZP.div.withConfig({displayName:"styles__Option",componentId:"sc-13a81w7-10"})(['cursor:pointer;font-size:16px;font-family:"Montserrat";font-weight:300;height:30px;color:rgb(191,205,217);padding:5px;&:hover{background-color:rgb(16,27,38);}']),x=o.ZP.input.withConfig({displayName:"styles__SelectInput",componentId:"sc-13a81w7-11"})(['background-color:rgb(16,27,38);padding:0px 20px;font-size:16px;color:rgb(255,255,255);font-family:"Montserrat";font-weight:400;border-radius:4px;border:1px solid rgb(46,68,88);outline:none;height:38px;width:100%;cursor:pointer;']),y=o.ZP.div.withConfig({displayName:"styles__DropdownButton",componentId:"sc-13a81w7-12"})(["width:38px;height:38px;background-color:#0087ff;border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer;opacity:",";cursor:",";"],function(e){return e.isDisabled?"0.5":"1"},function(e){return e.isDisabled?"not-allowed":"pointer"}),m=o.ZP.div.withConfig({displayName:"styles__CopyButton",componentId:"sc-13a81w7-13"})(["width:38px;height:38px;background-color:#0087ff;border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0;",";"],function(e){return e.customStyles}),b=o.ZP.div.withConfig({displayName:"styles__CloudButton",componentId:"sc-13a81w7-14"})(["width:38px;height:38px;background-color:",";border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:",";padding:0;",";"],function(e){return e.disabled?"grey":"#0087ff"},function(e){return e.disabled?"not-allowed":"pointer"},function(e){return e.customStyles}),w=o.ZP.div.withConfig({displayName:"styles__SimpleUrlWrapper",componentId:"sc-13a81w7-15"})(["align-self:center;padding-left:20px;padding-right:20px;"]),v=n(5413),C=n(29),j=n(7794),_=n.n(j),k=n(5675),P=n.n(k),O=n(6825),I=n(1163),Z={src:"/_next/static/media/delete.2bb82cda.svg",height:640,width:640},D=n(1305),S=n(1517),N=n(4865),R={src:"/_next/static/media/copy_to_clipboard.3d2e5452.svg",height:24,width:24},E={src:"/_next/static/media/upload-to-cloud.cfd7b2a3.svg",height:20,width:20},T=n(4855),U=n(5893),z=function(e){var t,n,o,i=e.camera,s=e.setCameras,c=e.isRemoving,l=e.setIsRemoving,p=e.isConnecting,v=e.setIsConnecting,j=(0,I.useRouter)(),k=(0,r.useState)(i.isMainStream),z=k[0],A=k[1],M=(0,r.useState)(!1),B=M[0],W=M[1],L=(0,r.useState)(!1),V=L[0],X=L[1],q=(0,r.useState)(z?i.url:i.secondUrl),F=q[0],G=q[1],H=[i.url,i.secondUrl],J=(t=(0,C.Z)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,(0,O.jU)(i);case 4:s(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j.push("/login");case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return t.apply(this,arguments)}),K=(n=(0,C.Z)(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,(0,O.hk)();case 4:if(e.sent){e.next=8;break}return j.push("/settings"),e.abrupt("return");case 8:return e.next=10,(0,O.Bc)([t]);case 10:return e.next=12,(0,O.Vb)();case 12:s(e.sent),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),j.push("/login");case 19:return e.prev=19,v(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])})),function(e){return n.apply(this,arguments)}),Q=(o=(0,C.Z)(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X(!0),e.next=4,(0,O.Ih)(i.id,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j.push("/login");case 9:return e.prev=9,X(!1),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[0,6,9,12]])})),function(e){return o.apply(this,arguments)});return(0,U.jsxs)(r.Fragment,{children:[(0,U.jsx)(a,{children:(0,U.jsx)(u,{onClick:J,disabled:c||V,children:(0,U.jsx)(P(),{src:Z,alt:"",width:20,height:20})})}),(0,U.jsx)(a,{children:i.name}),(0,U.jsx)(a,{children:i.ip}),(0,U.jsx)(a,{children:i.secondUrl?(0,U.jsx)(d,{children:(0,U.jsxs)(f,{children:[(0,U.jsx)(x,{onClick:function(){return W(function(e){return!e})},readOnly:!0,value:F}),B&&(0,U.jsx)(D.Z,{onClickAway:function(){return W(!1)},children:(0,U.jsx)(h,{children:H.map(function(e){return(0,U.jsx)(g,{onClick:(0,C.Z)(_().mark(function t(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==F){t.next=3;break}return W(function(e){return!e}),t.abrupt("return");case 3:G(e),W(function(e){return!e}),A(e===i.url),Q(e===i.url);case 7:case"end":return t.stop()}},t)})),children:e},e)})})})]})}):(0,U.jsx)(w,{children:i.url})}),(0,U.jsx)(a,{children:(0,U.jsx)(y,{isDisabled:V||!i.secondUrl,onClick:i.secondUrl?function(){W(function(e){return!e})}:function(){},children:(0,U.jsx)(P(),{src:B?N.Z:S.Z,alt:"",width:10,height:10})})}),(0,U.jsx)(a,{children:i.proxyUrl}),(0,U.jsx)(a,{children:(0,U.jsx)(T.CopyToClipboard,{text:i.proxyUrl,children:(0,U.jsx)(m,{onClick:function(){},children:(0,U.jsx)(P(),{src:R,alt:"",width:20,height:20})})})}),(0,U.jsx)(a,{children:(0,U.jsx)(b,{disabled:i.isDeviceInCloud||p,onClick:i.isDeviceInCloud?function(){}:function(){return K(i)},children:(0,U.jsx)(P(),{src:E,alt:"",width:20,height:20})})})]})},A=o.ZP.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1ecgck2-0"})(["margin-top:50px;display:flex;padding:0 50px;width:100%;"]),M=o.ZP.button.withConfig({displayName:"styles__PrimaryButton",componentId:"sc-1ecgck2-1"})(['background-color:rgb(23,42,59);border:1px solid rgb(180,226,0);font-family:"Montserrat";font-weight:400;color:rgb(191,205,217);margin:0px;font-size:16px;user-select:none;display:flex;justify-content:space-around;align-items:center;box-sizing:border-box;height:39px;border-radius:3rem;outline:none;cursor:pointer;width:200px;background-color:rgb(23,42,59);border:1px solid rgb(180,226,0);margin-right:30px;']),B=o.ZP.button.withConfig({displayName:"styles__SecondaryButton",componentId:"sc-1ecgck2-2"})(['display:flex;justify-content:space-around;align-items:center;box-sizing:border-box;height:39px;background-color:rgb(180,226,0);border-radius:3rem;outline:none;border:none;font-size:16px;font-family:"Montserrat";font-weight:400;cursor:',";user-select:none;width:300px;"],function(e){return e.disabled?"not-allowed":"pointer"}),W=function(e){var t,n,o=e.isRemoving,i=e.setIsRemoving,s=e.setCameras,c=e.cameras,a=e.isConnecting,l=e.setIsConnecting,u=(0,I.useRouter)(),p=(0,r.useState)(!1),d=p[0],f=p[1],h=(t=(0,C.Z)(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,(0,O.vq)();case 4:s(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.push("/login");case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return t.apply(this,arguments)}),g=(n=(0,C.Z)(_().mark(function e(){var t,n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.hk)();case 2:if(e.sent){e.next=6;break}return u.push("/settings"),e.abrupt("return");case 6:return e.prev=6,n=c.filter(function(e){return!e.isDeviceInCloud}),l(!0),f(!0),e.next=12,(0,O.Bc)(n);case 12:return e.next=14,(0,O.Vb)();case 14:s(e.sent),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0);case 21:return e.prev=21,l(!1),f(!1),e.finish(21);case 25:case"end":return e.stop()}},e,null,[[6,18,21,25]])})),function(){return n.apply(this,arguments)});return(0,U.jsxs)(A,{children:[(0,U.jsx)(M,{onClick:h,disabled:o,children:"Remove all cameras"}),(0,U.jsx)(B,{onClick:g,disabled:!c.filter(function(e){return!e.isDeviceInCloud}).length||a||d||o,children:d?(0,U.jsx)(v.Z,{}):"Add all cameras to cloud"})]})},L=function(e){var t=e.cameras,n=e.setCameras,o=e.isLoadingCameras,a=(0,r.useState)(!1),u=a[0],d=a[1],f=(0,r.useState)(!1),h=f[0],g=f[1],x=t.length;return o?(0,U.jsx)(i,{children:(0,U.jsx)(v.Z,{})}):x?(0,U.jsxs)(i,{children:[(0,U.jsxs)(s,{children:[(0,U.jsx)(c,{}),(0,U.jsx)(c,{children:"Name"}),(0,U.jsx)(c,{children:"IP address"}),(0,U.jsx)(c,{children:"Local links"}),(0,U.jsx)(c,{}),(0,U.jsx)(c,{children:"Public link"}),(0,U.jsx)(c,{}),(0,U.jsx)(c,{}),t.map(function(e){return(0,U.jsx)(z,{camera:e,setCameras:n,isRemoving:u,setIsRemoving:d,isConnecting:h,setIsConnecting:g},e.id)})]}),u&&(0,U.jsx)(p,{children:(0,U.jsx)(v.Z,{})}),x&&(0,U.jsx)(W,{cameras:t,setCameras:n,isRemoving:u,setIsRemoving:d,isConnecting:h,setIsConnecting:g})]}):(0,U.jsx)(i,{children:(0,U.jsx)(l,{children:"No added cameras"})})},V=function(){var e=(0,I.useRouter)(),t=(0,r.useState)(!1),n=t[0],o=t[1],i=(0,r.useState)([]),s=i[0],c=i[1];return(0,r.useEffect)(function(){o(!0),(0,O.Vb)().then(c).catch(function(t){e.push("/login")}).finally(function(){return o(!1)})},[]),(0,U.jsx)("main",{children:(0,U.jsx)(L,{cameras:s,setCameras:c,isLoadingCameras:n})})}},4551:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addedDevices",function(){return n(8824)}])},1517:function(e,t){"use strict";t.Z={src:"/_next/static/media/dropdownArrow.5a57e90d.svg",height:7,width:11}},4865:function(e,t){"use strict";t.Z={src:"/_next/static/media/dropdownArrowUp.53dad0f4.svg",height:7,width:11}},4300:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=c(n(7294)),i=c(n(640)),s=["text","onCopy","options","children"];function c(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(y,e);var t,n,c,a,g,x=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=f(y);if(n){var o=f(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=x.call.apply(x,[this].concat(n)),h(d(e),"onClick",function(t){var n=e.props,r=n.text,s=n.onCopy,c=n.children,a=n.options,l=o.default.Children.only(c),u=(0,i.default)(r,a);s&&s(r,u),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(t)}),e}return a=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s),r=o.default.Children.only(t);return o.default.cloneElement(r,l(l({},n),{},{onClick:this.onClick}))}}],u(y.prototype,a),g&&u(y,g),Object.defineProperty(y,"prototype",{writable:!1}),y}(o.default.PureComponent);t.CopyToClipboard=g,h(g,"defaultProps",{onCopy:void 0,options:void 0})},4855:function(e,t,n){"use strict";var r=n(4300).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},1742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4551)}),_N_E=e.O()}]);