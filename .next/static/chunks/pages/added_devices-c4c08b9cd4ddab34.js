(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[784],{4767:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),n(7294);var r=n(1505),s=n(9521).ZP.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-jeejul-0"})(["display:flex;width:100%;height:100%;align-items:center;justify-content:center;z-index:8;",";"],function(e){return e.customStyles}),i=n(5893),a=function(e){var t=e.customStyles;return(0,i.jsx)(s,{customStyles:t,children:(0,i.jsx)(r.BR,{color:"#0087FF",height:25,width:25})})}},2109:function(e,t,n){"use strict";n(7294);var r=n(2920),s=n(5893),i=function(e){var t=e.type,n=e.message;return r.Am[t]((0,s.jsx)("div",{style:{display:"flex"},children:(0,s.jsx)("div",{style:{flexGrow:1,fontSize:15,padding:"8px 12px"},children:n})}),{toastId:"customId"})};i.dismiss=r.Am.dismiss,t.Z=i},4512:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(7294),s=n(9521),i=s.ZP.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-13a81w7-0"})(["padding:25px;display:flex;align-items:center;justify-content:center;flex-direction:column;"]),a=s.ZP.div.withConfig({displayName:"styles__Grid",componentId:"sc-13a81w7-1"})(["display:grid;width:100%;grid-template-columns:30px 150px 90px 130px 80px 150px minmax(100px,1fr) 40px minmax(100px,1fr) 40px;gap:5px;grid-auto-rows:minmax(10px,auto);"]),o=s.ZP.div.withConfig({displayName:"styles__ColumnTitle",componentId:"sc-13a81w7-2"})(['font-family:"Montserrat";font-weight:300;color:rgb(191,205,217);display:flex;align-items:center;justify-content:center;margin:0px;height:25px;text-align:center;box-sizing:border-box;font-size:15px;user-select:none;']),c=s.ZP.div.withConfig({displayName:"styles__Cell",componentId:"sc-13a81w7-3"})(['padding:0px 20px;background-color:rgb(34,55,73);width:100%;display:flex;align-items:center;justify-content:center;overflow-x:scroll;white-space:nowrap;height:40px;font-family:"Montserrat";color:rgb(191,205,217);font-weight:400;margin:0px;font-size:15px;user-select:none;&:nth-child(10n + 1),&:nth-child(10n + 8),&:nth-child(10n + 10){background-color:transparent;padding:0;}&:nth-child(10n + 8),&:nth-child(10n + 10){align-items:flex-start;}&:nth-child(10n + 9){user-select:initial;padding-left:20px;padding-right:20px;}&:nth-child(10n + 7){user-select:initial;margin:0;padding:0;align-items:flex-start;justify-content:flex-start;}&:nth-child(10n + 2),&:nth-child(10n + 6),&:nth-child(10n + 7),&:nth-child(10n + 9){justify-content:flex-start;}']),l=s.ZP.p.withConfig({displayName:"styles__Text",componentId:"sc-13a81w7-4"})(['font-family:"Montserrat";color:rgb(191,205,217);font-weight:300;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin:0px;text-align:center;font-size:15px;user-select:none;']),p=s.ZP.button.withConfig({displayName:"styles__Button",componentId:"sc-13a81w7-5"})(["display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;border:none;outline:none;background-color:transparent;width:100%;height:100%;filter:brightness(0.9) invert(85%);"]),u=s.ZP.div.withConfig({displayName:"styles__LoaderWrapper",componentId:"sc-13a81w7-6"})(["position:absolute;top:42px;left:0;width:100%;height:calc(100% - 42px);background:rgb(255,255,255,0.2);z-index:0;display:flex;align-items:center;justify-content:center;"]),d=s.ZP.div.withConfig({displayName:"styles__InputWrapper",componentId:"sc-13a81w7-7"})(["width:100%;"]),f=s.ZP.div.withConfig({displayName:"styles__DropdownWrapper",componentId:"sc-13a81w7-8"})(["display:flex;align-items:center;display:flex;flex-direction:column;align-items:flex-start;"]),h=s.ZP.div.withConfig({displayName:"styles__OptionsWrapper",componentId:"sc-13a81w7-9"})(["display:flex;flex-direction:column;border-radius:5px;background-color:rgb(23,42,59);box-shadow:rgb(16 27 38) 1px 2px 5px;position:absolute;z-index:200;"]),g=s.ZP.div.withConfig({displayName:"styles__Option",componentId:"sc-13a81w7-10"})(['cursor:pointer;font-size:16px;font-family:"Montserrat";font-weight:300;height:30px;color:rgb(191,205,217);padding:5px;&:hover{background-color:rgb(16,27,38);}']),x=s.ZP.input.withConfig({displayName:"styles__SelectInput",componentId:"sc-13a81w7-11"})(['background-color:rgb(16,27,38);padding:0px 20px;font-size:16px;color:rgb(255,255,255);font-family:"Montserrat";font-weight:400;border-radius:4px;border:1px solid rgb(46,68,88);outline:none;height:38px;width:100%;cursor:pointer;']),m=s.ZP.div.withConfig({displayName:"styles__DropdownButton",componentId:"sc-13a81w7-12"})(["width:38px;height:38px;background-color:#0087ff;border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer;opacity:",";cursor:",";"],function(e){return e.isDisabled?"0.5":"1"},function(e){return e.isDisabled?"not-allowed":"pointer"}),w=s.ZP.div.withConfig({displayName:"styles__CopyButton",componentId:"sc-13a81w7-13"})(["width:38px;height:38px;background-color:#0087ff;border-radius:4px;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0;",";"],function(e){return e.customStyles}),y=s.ZP.div.withConfig({displayName:"styles__SimpleUrlWrapper",componentId:"sc-13a81w7-14"})(["align-self:center;padding-left:20px;padding-right:20px;"]),v=n(4767),b=n(29),j=n(7794),k=n.n(j),Z=n(5675),_=n.n(Z),C=n(6825),I={src:"/_next/static/media/delete.2bb82cda.svg",height:640,width:640},S=n(1305),N=n(1517),P=n(4865),z={src:"/_next/static/media/copy_to_clipboard.3d2e5452.svg",height:24,width:24},R=n(5893),U=function(e){var t,n,s=e.camera,i=e.setCameras,a=e.isRemoving,o=e.setIsRemoving,l=(0,r.useState)(s.isMainStream),u=l[0],v=l[1],j=(0,r.useState)(!1),Z=j[0],U=j[1],M=(0,r.useState)(!1),W=M[0],B=M[1],L=(0,r.useState)(u?s.url:s.secondUrl),A=L[0],D=L[1],E=[s.url,s.secondUrl],T=(t=(0,b.Z)(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,(0,C.jU)(s);case 4:i(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return t.apply(this,arguments)}),O=(n=(0,b.Z)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,(0,C.Ih)(s.id,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.prev=9,B(!1),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[0,6,9,12]])})),function(e){return n.apply(this,arguments)}),q=function(){navigator&&navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(s.proxyUrl)};return(0,R.jsxs)(r.Fragment,{children:[(0,R.jsx)(c,{children:(0,R.jsx)(p,{onClick:T,disabled:a||W,children:(0,R.jsx)(_(),{src:I,alt:"",width:20,height:20})})}),(0,R.jsx)(c,{children:s.name}),(0,R.jsx)(c,{children:s.type}),(0,R.jsx)(c,{children:s.ip}),(0,R.jsx)(c,{children:s.port}),(0,R.jsx)(c,{children:s.login}),(0,R.jsx)(c,{children:s.secondUrl?(0,R.jsx)(d,{children:(0,R.jsxs)(f,{children:[(0,R.jsx)(x,{onClick:function(){return U(function(e){return!e})},readOnly:!0,value:A}),Z&&(0,R.jsx)(S.Z,{onClickAway:function(){return U(!1)},children:(0,R.jsx)(h,{children:E.map(function(e){return(0,R.jsx)(g,{onClick:(0,b.Z)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==A){t.next=3;break}return U(function(e){return!e}),t.abrupt("return");case 3:D(e),U(function(e){return!e}),v(e===s.url),O(e===s.url);case 7:case"end":return t.stop()}},t)})),children:e},e)})})})]})}):(0,R.jsx)(y,{children:s.url})}),(0,R.jsx)(c,{children:(0,R.jsx)(m,{isDisabled:W||!s.secondUrl,onClick:s.secondUrl?function(){U(function(e){return!e})}:function(){},children:(0,R.jsx)(_(),{src:Z?P.Z:N.Z,alt:"",width:10,height:10})})}),(0,R.jsx)(c,{children:s.proxyUrl}),(0,R.jsx)(c,{children:(0,R.jsx)(w,{onClick:function(){return q()},children:(0,R.jsx)(_(),{src:z,alt:"",width:20,height:20})})})]})},M=s.ZP.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1ecgck2-0"})(["margin-top:50px;display:flex;padding:0 50px;width:100%;"]),W=s.ZP.button.withConfig({displayName:"styles__PrimaryButton",componentId:"sc-1ecgck2-1"})(['background-color:rgb(23,42,59);border:1px solid rgb(180,226,0);font-family:"Montserrat";font-weight:400;color:rgb(191,205,217);margin:0px;font-size:16px;user-select:none;display:flex;justify-content:space-around;align-items:center;box-sizing:border-box;height:39px;border-radius:3rem;outline:none;cursor:pointer;width:200px;background-color:rgb(23,42,59);border:1px solid rgb(180,226,0);margin-right:30px;']),B=s.ZP.button.withConfig({displayName:"styles__SecondaryButton",componentId:"sc-1ecgck2-2"})(['display:flex;justify-content:space-around;align-items:center;box-sizing:border-box;height:39px;background-color:rgb(180,226,0);border-radius:3rem;outline:none;border:none;font-size:16px;font-family:"Montserrat";font-weight:400;cursor:pointer;user-select:none;width:200px;']),L=function(e){var t,n,s=e.isRemoving,i=e.setIsRemoving,a=e.setCameras,o=(0,r.useState)(!1),c=o[0],l=o[1],p=(t=(0,b.Z)(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,(0,C.vq)();case 4:a(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return t.apply(this,arguments)}),u=(n=(0,b.Z)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{l(!0)}catch(t){console.log(t)}finally{l(!1)}case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,R.jsxs)(M,{children:[(0,R.jsx)(W,{onClick:p,disabled:s,children:"Remove all cameras"}),(0,R.jsx)(B,{onClick:u,disabled:c||s,children:c?(0,R.jsx)(v.Z,{}):"Connect to cloud"})]})},A=function(e){var t=e.cameras,n=e.setCameras,s=e.isLoadingCameras,c=(0,r.useState)(!1),p=c[0],d=c[1],f=t.length;return s?(0,R.jsx)(i,{children:(0,R.jsx)(v.Z,{})}):f?(0,R.jsxs)(i,{children:[(0,R.jsxs)(a,{children:[(0,R.jsx)(o,{}),(0,R.jsx)(o,{children:"Name"}),(0,R.jsx)(o,{children:"Device type"}),(0,R.jsx)(o,{children:"IP address"}),(0,R.jsx)(o,{children:"Port"}),(0,R.jsx)(o,{children:"Login"}),(0,R.jsx)(o,{children:"Local links"}),(0,R.jsx)(o,{}),(0,R.jsx)(o,{children:"Public link"}),(0,R.jsx)(o,{}),t.map(function(e){return(0,R.jsx)(U,{camera:e,setCameras:n,isRemoving:p,setIsRemoving:d},e.id)})]}),p&&(0,R.jsx)(u,{children:(0,R.jsx)(v.Z,{})}),f&&(0,R.jsx)(L,{setCameras:n,isRemoving:p,setIsRemoving:d})]}):(0,R.jsx)(i,{children:(0,R.jsx)(l,{children:"No added cameras"})})},D=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],s=(0,r.useState)([]),i=s[0],a=s[1];return(0,r.useEffect)(function(){n(!0),(0,C.Vb)().then(a).catch(console.log).finally(function(){return n(!1)})},[]),(0,R.jsx)(A,{cameras:i,setCameras:a,isLoadingCameras:t})}},6825:function(e,t,n){"use strict";n.d(t,{Ih:function(){return Z},Vb:function(){return b},YL:function(){return w},jU:function(){return k},qL:function(){return m},qm:function(){return v},vV:function(){return y},vq:function(){return j}});var r,s,i,a,o,c,l,p,u=n(29),d=n(7794),f=n.n(d),h=n(9669),g=n.n(h),x=n(2109),m=(r=(0,u.Z)(f().mark(function e(){var t,n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().get("/api/networkRange");case 3:return n=e.sent.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),(0,x.Z)({type:"error",message:e.t0.message});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return r.apply(this,arguments)}),w=(s=(0,u.Z)(f().mark(function e(t){var n,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().post("/api/searchCamerasInSubnet",t);case 3:return r=e.sent.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),(0,x.Z)({type:"error",message:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return s.apply(this,arguments)}),y=(i=(0,u.Z)(f().mark(function e(t){var n,r,s,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().post("/api/addCameraInfo",t);case 3:return r=e.sent.data,(0,x.Z)({type:"info",message:r.message}),e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),!(null!==(s=e.t0.response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.message)){e.next=14;break}return(0,x.Z)({type:"error",message:e.t0.response.data.message}),e.abrupt("return",null);case 14:(0,x.Z)({type:"error",message:"Something went wrong"});case 15:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return i.apply(this,arguments)}),v=(a=(0,u.Z)(f().mark(function e(t){var n,r,s,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().post("/api/addBulkCameras",{cameras:t});case 3:return r=e.sent.data,e.abrupt("return",r.addedCameras);case 8:if(e.prev=8,e.t0=e.catch(0),!(null!==(s=e.t0.response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.message)){e.next=13;break}return(0,x.Z)({type:"error",message:e.t0.response.data.message}),e.abrupt("return");case 13:(0,x.Z)({type:"error",message:"Something went wrong"});case 14:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return a.apply(this,arguments)}),b=(o=(0,u.Z)(f().mark(function e(){var t,n,r,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().get("/api/devices");case 3:return n=e.sent.data,e.abrupt("return",n.cameras);case 8:if(e.prev=8,e.t0=e.catch(0),!(null!==(r=e.t0.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.message)){e.next=13;break}return(0,x.Z)({type:"error",message:e.t0.response.data.message}),e.abrupt("return");case 13:(0,x.Z)({type:"error",message:"Something went wrong"});case 14:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return o.apply(this,arguments)}),j=(c=(0,u.Z)(f().mark(function e(){var t,n,r,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().delete("/api/devices");case 3:return n=e.sent.data,e.abrupt("return",n.cameras);case 8:if(e.prev=8,e.t0=e.catch(0),!(null!==(r=e.t0.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.message)){e.next=13;break}return(0,x.Z)({type:"error",message:e.t0.response.data.message}),e.abrupt("return");case 13:(0,x.Z)({type:"error",message:"Something went wrong"});case 14:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return c.apply(this,arguments)}),k=(l=(0,u.Z)(f().mark(function e(t){var n,r,s,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().delete("/api/deleteAddedCamera",{params:{name:t.name,url:t.url,port:t.port,ip:t.ip,id:t.id}});case 3:return r=e.sent.data,e.abrupt("return",r.cameras);case 8:if(e.prev=8,e.t0=e.catch(0),!(null!==(s=e.t0.response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.message)){e.next=13;break}return(0,x.Z)({type:"error",message:e.t0.response.data.message}),e.abrupt("return");case 13:(0,x.Z)({type:"error",message:"Something went wrong"});case 14:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return l.apply(this,arguments)}),Z=(p=(0,u.Z)(f().mark(function e(t,n){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().patch("/api/editStream",{id:t,isMainStream:n});case 3:(0,x.Z)({type:"info",message:"Successfully updated stream source"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),(0,x.Z)({type:"error",message:"Something went wrong"});case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e,t){return p.apply(this,arguments)})},6327:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/added_devices",function(){return n(4512)}])},1517:function(e,t){"use strict";t.Z={src:"/_next/static/media/dropdownArrow.5a57e90d.svg",height:7,width:11}},4865:function(e,t){"use strict";t.Z={src:"/_next/static/media/dropdownArrowUp.53dad0f4.svg",height:7,width:11}}},function(e){e.O(0,[18,774,888,179],function(){return e(e.s=6327)}),_N_E=e.O()}]);